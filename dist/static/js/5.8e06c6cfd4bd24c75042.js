webpackJsonp([5],{GCVJ:function(e,t){},OSln:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r("Xxa5"),a=r.n(l),o=r("exGp"),i=r.n(o),s=r("ON3O"),n=r.n(s),m=r("X2Oc"),c={props:{ifshow:Boolean},data:function(){return{marketWindowInitForm:{appName:6,terminal:1,userTag:1,showFrequency:1,title:"",priority:1,versionLowerLimit:null,versionUpperLimit:null,popUrl:"",startTime:null,endTime:null,popPosition:"",imageUrl:"",status:!0},marketWindowForm:{},rules:{},actionUrl:"//devfdd.51huihuahua.com/config/upload-image-file",showFrequencies:[{value:1,label:"value1"}]}},methods:{openDialog:function(){this.marketWindowForm=Object(m.a)(this.marketWindowInitForm)},closeDialog:function(){this.$refs.marketWindowForm.resetFields(),this.$emit("handleCloseDialog")},handleFilesChange:function(e,t){t.length>1&&t.shift(),"success"===e.status&&(this.marketWindowForm.imageUrl=e.response.data)},saveMarketWindow:n()(300,function(){var e,t=this;this.$refs.marketWindowForm.validate((e=i()(a.a.mark(function e(r){var l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=11;break}return e.prev=1,e.next=4,t.$http.post("/config/market-window-web",t.marketWindowForm);case 4:"200"===(l=e.sent).code?(t.$message.success("新增成功!"),t.closeDialog()):t.$message.error(l.message),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}},e,t,[[1,8]])})),function(t){return e.apply(this,arguments)}))})}},u={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"border"},[r("el-dialog",{attrs:{title:"新增运营弹窗",visible:e.ifshow,"before-close":e.closeDialog},on:{"update:visible":function(t){e.ifshow=t},open:e.openDialog}},[r("el-form",{ref:"marketWindowForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.marketWindowForm,rules:e.rules,"label-width":"100px"}},[r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:40}},[r("el-form-item",{attrs:{label:"应用名称"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.marketWindowForm.appName,callback:function(t){e.$set(e.marketWindowForm,"appName",t)},expression:"marketWindowForm.appName"}},e._l(e.globalConfig.appNames,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:40}},[r("el-form-item",{attrs:{label:"生效终端"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.marketWindowForm.terminal,callback:function(t){e.$set(e.marketWindowForm,"terminal",t)},expression:"marketWindowForm.terminal"}},e._l(e.globalConfig.terminals,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:40}},[r("el-form-item",{attrs:{label:"用户标签"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.marketWindowForm.userTag,callback:function(t){e.$set(e.marketWindowForm,"userTag",t)},expression:"marketWindowForm.userTag"}},e._l(e.globalConfig.userTags,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:40}},[r("el-form-item",{attrs:{label:"显示频率"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.marketWindowForm.showFrequency,callback:function(t){e.$set(e.marketWindowForm,"showFrequency",t)},expression:"marketWindowForm.showFrequency"}},e._l(e.showFrequencies,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:40}},[r("el-form-item",{attrs:{label:"标题"}},[r("el-input",{attrs:{placeholder:"标题"},model:{value:e.marketWindowForm.title,callback:function(t){e.$set(e.marketWindowForm,"title",t)},expression:"marketWindowForm.title"}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:40}},[r("el-form-item",{attrs:{label:"优先级"}},[r("el-input-number",{attrs:{"controls-position":"right",min:1,max:999},model:{value:e.marketWindowForm.priority,callback:function(t){e.$set(e.marketWindowForm,"priority",t)},expression:"marketWindowForm.priority"}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:40}},[r("el-form-item",{attrs:{label:"版本号下限"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.marketWindowForm.versionLowerLimit,callback:function(t){e.$set(e.marketWindowForm,"versionLowerLimit",t)},expression:"marketWindowForm.versionLowerLimit"}},e._l(e.globalConfig.versions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:40}},[r("el-form-item",{attrs:{label:"版本号上限"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.marketWindowForm.versionUpperLimit,callback:function(t){e.$set(e.marketWindowForm,"versionUpperLimit",t)},expression:"marketWindowForm.versionUpperLimit"}},e._l(e.globalConfig.versions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:40}},[r("el-form-item",{attrs:{label:"弹窗链接"}},[r("el-input",{attrs:{placeholder:"弹窗链接"},model:{value:e.marketWindowForm.popUrl,callback:function(t){e.$set(e.marketWindowForm,"popUrl",t)},expression:"marketWindowForm.popUrl"}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:40}},[r("el-form-item",{attrs:{label:"开始时间"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始时间","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.marketWindowForm.startTime,callback:function(t){e.$set(e.marketWindowForm,"startTime",t)},expression:"marketWindowForm.startTime"}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:40}},[r("el-form-item",{attrs:{label:"结束时间"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择结束时间","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.marketWindowForm.endTime,callback:function(t){e.$set(e.marketWindowForm,"endTime",t)},expression:"marketWindowForm.endTime"}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:40}},[r("el-form-item",{attrs:{label:"弹框位置"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.marketWindowForm.popPosition,callback:function(t){e.$set(e.marketWindowForm,"popPosition",t)},expression:"marketWindowForm.popPosition"}},e._l(e.globalConfig.position,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:40}},[r("el-form-item",{attrs:{label:"状态"}},[r("el-switch",{staticStyle:{margin:"10px"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.marketWindowForm.status,callback:function(t){e.$set(e.marketWindowForm,"status",t)},expression:"marketWindowForm.status"}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:40}},[r("el-form-item",{attrs:{label:"弹窗图片"}},[r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:40}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.actionUrl,"show-file-list":!1,"on-change":e.handleFilesChange}},[e.marketWindowForm.imageUrl?r("img",{staticClass:"avatar",attrs:{src:e.marketWindowForm.imageUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1)],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:40}},[r("el-form-item",[r("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.saveMarketWindow}},[e._v("确定")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var p=r("VU/8")(c,u,!1,function(e){r("GCVJ")},null,null);t.default=p.exports}});
//# sourceMappingURL=5.8e06c6cfd4bd24c75042.js.map