webpackJsonp([9],{"GP+P":function(e,a){},ifbj:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("Xxa5"),o=t.n(r),l=t("exGp"),s=t.n(l),n=t("ON3O"),p=t.n(n),i=t("X2Oc"),c={props:{ifshow:Boolean},data:function(){return{appVersionDetails:[],appVersionInitForm:{appName:6,appType:"",remark:"official",versionNumber:"",downloadUrl:"",isForcedUpdate:"",versionUpdate:"",isPopup:"1",beginTime:null,endTime:null,changeTitle:"",changeCopy:"",state:1},appVersionForm:{},sort:1,rules:{}}},methods:{openDialog:function(){this.appVersionForm=Object(i.a)(this.appVersionInitForm)},closeDialog:function(){this.$refs.appVersionForm.resetFields(),this.$emit("handleCloseDialog")},deleteRow:function(e,a){a.splice(e,1)},saveAppVersion:p()(300,function(){var e,a=this;this.$refs.appVersionForm.validate((e=s()(o.a.mark(function e(t){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.appVersionForm.beginTime>a.appVersionForm.endTime)){e.next=3;break}return a.$message.error("开始时间要小于结束时间"),e.abrupt("return");case 3:if(!t){e.next=15;break}return e.prev=4,a.appVersionForm.appVersionDetails=a.appVersionDetails,e.next=8,a.$http.post("/management/app-version",a.appVersionForm);case 8:"200"===(r=e.sent).code?(a.$message.success("新增成功!"),a.closeDialog()):a.$message.error(r.message),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0);case 15:case"end":return e.stop()}},e,a,[[4,12]])})),function(a){return e.apply(this,arguments)}))})}},m={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"border",staticStyle:{width:"100%"}},[t("el-dialog",{attrs:{title:"新增APP更新配置",visible:e.ifshow,"before-close":e.closeDialog},on:{"update:visible":function(a){e.ifshow=a},open:e.openDialog}},[t("el-form",{ref:"appVersionForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.appVersionForm,rules:e.rules,"label-width":"100px"}},[t("el-row",[t("el-col",{attrs:{span:40}},[t("el-form-item",{attrs:{label:"APP名称"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.appVersionForm.appName,callback:function(a){e.$set(e.appVersionForm,"appName",a)},expression:"appVersionForm.appName"}},e._l(e.$formatter.getSelectionOptions("appNames"),function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:40}},[t("el-form-item",{attrs:{label:"APP类型"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.appVersionForm.appType,callback:function(a){e.$set(e.appVersionForm,"appType",a)},expression:"appVersionForm.appType"}},e._l(e.$formatter.getSelectionOptions("clientType"),function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:40}},[t("el-form-item",{attrs:{label:"渠道"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入更新渠道"},model:{value:e.appVersionForm.remark,callback:function(a){e.$set(e.appVersionForm,"remark",a)},expression:"appVersionForm.remark"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:40}},[t("el-form-item",{attrs:{label:"版本号"}},[t("el-select",{attrs:{clearable:"",placeholder:"请输入本次更新版本号"},model:{value:e.appVersionForm.versionNumber,callback:function(a){e.$set(e.appVersionForm,"versionNumber",a)},expression:"appVersionForm.versionNumber"}},e._l(e.$formatter.getSelectionOptions("versions_"+e.appVersionForm.appName),function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:40}},[t("el-form-item",{attrs:{label:"下载地址"}},[t("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"请输入下载地址"},model:{value:e.appVersionForm.downloadUrl,callback:function(a){e.$set(e.appVersionForm,"downloadUrl",a)},expression:"appVersionForm.downloadUrl"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:40}},[t("el-form-item",{attrs:{label:"强更版本"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入需要强制更新的版本"},model:{value:e.appVersionForm.isForcedUpdate,callback:function(a){e.$set(e.appVersionForm,"isForcedUpdate",a)},expression:"appVersionForm.isForcedUpdate"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:40}},[t("el-form-item",{attrs:{label:"非强更版本"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入需要更新的版本"},model:{value:e.appVersionForm.versionUpdate,callback:function(a){e.$set(e.appVersionForm,"versionUpdate",a)},expression:"appVersionForm.versionUpdate"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:40}},[t("el-form-item",{attrs:{label:"开始时间"}},[t("el-date-picker",{attrs:{type:"datetime",placeholder:"请输入弹框开始时间","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.appVersionForm.beginTime,callback:function(a){e.$set(e.appVersionForm,"beginTime",a)},expression:"appVersionForm.beginTime"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:40}},[t("el-form-item",{attrs:{label:"结束时间"}},[t("el-date-picker",{attrs:{type:"datetime",placeholder:"请输入弹框结束时间","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.appVersionForm.endTime,callback:function(a){e.$set(e.appVersionForm,"endTime",a)},expression:"appVersionForm.endTime"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:40}},[t("el-form-item",{attrs:{label:"更新标题"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入弹框标题"},model:{value:e.appVersionForm.changeTitle,callback:function(a){e.$set(e.appVersionForm,"changeTitle",a)},expression:"appVersionForm.changeTitle"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:40}},[t("el-form-item",{attrs:{label:"更新描述"}},[t("el-input",{attrs:{type:"textarea",cols:"50",rows:"5",placeholder:"请输入弹窗内显示的更新内容"},model:{value:e.appVersionForm.changeCopy,callback:function(a){e.$set(e.appVersionForm,"changeCopy",a)},expression:"appVersionForm.changeCopy"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:40}},[t("el-form-item",{attrs:{label:"状态"}},[t("el-select",{staticStyle:{width:"110px"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.appVersionForm.state,callback:function(a){e.$set(e.appVersionForm,"state",a)},expression:"appVersionForm.state"}},e._l(e.$formatter.getSelectionOptions("state"),function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),t("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{span:40}},[t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.saveAppVersion}},[e._v("提交")]),e._v(" "),t("el-button",{on:{click:e.closeDialog}},[e._v("返回")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var u=t("VU/8")(c,m,!1,function(e){t("GP+P")},null,null);a.default=u.exports}});
//# sourceMappingURL=9.3f95f3c835b38f4270a5.js.map