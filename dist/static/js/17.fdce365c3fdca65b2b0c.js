webpackJsonp([17],{WEmK:function(e,r){},ifbj:function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=a("Xxa5"),o=a.n(t),l=a("exGp"),s=a.n(l),p=a("ON3O"),i=a.n(p),n=a("X2Oc"),m={props:{ifshow:Boolean},data:function(){return{appVersionDetails:[],appVersionInitForm:{appName:"",appType:"",remark:"",versionNumber:"",downloadUrl:"",isForcedUpdate:"",versionUpdate:"",isPopup:"1",beginTime:null,endTime:null,changeTitle:"",changeCopy:"",state:1},appVersionForm:{},sort:1,rules:{appName:[{required:!0,message:"请选择APP名称",trigger:"blur"}],appType:[{required:!0,message:"请选择APP类型",trigger:"blur"}],remark:[{required:!0,message:"请输入渠道",trigger:"blur"}],versionNumber:[{required:!0,message:"请输入本次更新版本号",trigger:"blur"}],downloadUrl:[{required:!0,message:"请输入下载地址",trigger:"blur"}],isForcedUpdate:[{required:!0,message:"请输入需要强制更新的版本",trigger:"blur"}],versionUpdate:[{required:!0,message:"请输入需要更新的版本",trigger:"blur"}],beginTime:[{required:!0,message:"请输入弹框开始时间",trigger:"blur"}],endTime:[{required:!0,message:"请输入弹框结束时间",trigger:"blur"}],changeTitle:[{required:!0,message:"请输入弹框标题",trigger:"blur"}],changeCopy:[{required:!0,message:"请输入弹窗内显示的更新内容",trigger:"blur"}],state:[{required:!0,message:"请选择状态",trigger:"blur"}]}}},methods:{openDialog:function(){this.appVersionForm=Object(n.a)(this.appVersionInitForm)},closeDialog:function(){this.$refs.appVersionForm.resetFields(),this.$emit("handleCloseDialog")},deleteRow:function(e,r){r.splice(e,1)},saveAppVersion:i()(300,function(){var e,r=this;this.$refs.appVersionForm.validate((e=s()(o.a.mark(function e(a){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.appVersionForm.beginTime>r.appVersionForm.endTime)){e.next=3;break}return r.$message.error("开始时间要小于结束时间"),e.abrupt("return");case 3:if(!a){e.next=15;break}return e.prev=4,r.appVersionForm.appVersionDetails=r.appVersionDetails,e.next=8,r.$http.post("/management/app-version",r.appVersionForm);case 8:"200"===(t=e.sent).code?(r.$message.success("新增成功!"),r.closeDialog()):r.$message.error(t.message),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0);case 15:case"end":return e.stop()}},e,r,[[4,12]])})),function(r){return e.apply(this,arguments)}))})}},c={render:function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"border",staticStyle:{width:"100%"}},[a("el-dialog",{attrs:{title:"新增APP更新配置",visible:e.ifshow,"before-close":e.closeDialog},on:{"update:visible":function(r){e.ifshow=r},open:e.openDialog}},[a("el-form",{ref:"appVersionForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.appVersionForm,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:40}},[a("el-form-item",{attrs:{label:"APP名称",prop:"appName"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.appVersionForm.appName,callback:function(r){e.$set(e.appVersionForm,"appName",r)},expression:"appVersionForm.appName"}},e._l(e.$formatter.getSelectionOptions("appNames"),function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:40}},[a("el-form-item",{attrs:{label:"APP类型",prop:"appType"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.appVersionForm.appType,callback:function(r){e.$set(e.appVersionForm,"appType",r)},expression:"appVersionForm.appType"}},e._l(e.$formatter.getSelectionOptions("clientType"),function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:40}},[a("el-form-item",{attrs:{label:"渠道",prop:"remark"}},[a("el-input",{staticStyle:{width:"217px"},attrs:{clearable:"",placeholder:"请输入更新渠道"},model:{value:e.appVersionForm.remark,callback:function(r){e.$set(e.appVersionForm,"remark",r)},expression:"appVersionForm.remark"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:40}},[a("el-form-item",{attrs:{label:"版本号",prop:"versionNumber"}},[a("el-input",{staticStyle:{width:"217px"},attrs:{clearable:"",placeholder:"请输入本次更新版本号"},model:{value:e.appVersionForm.versionNumber,callback:function(r){e.$set(e.appVersionForm,"versionNumber",r)},expression:"appVersionForm.versionNumber"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:40}},[a("el-form-item",{attrs:{label:"下载地址",prop:"downloadUrl"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{clearable:"",placeholder:"请输入下载地址"},model:{value:e.appVersionForm.downloadUrl,callback:function(r){e.$set(e.appVersionForm,"downloadUrl",r)},expression:"appVersionForm.downloadUrl"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:40}},[a("el-form-item",{attrs:{label:"强更版本",prop:"isForcedUpdate"}},[a("el-input",{staticStyle:{width:"217px"},attrs:{clearable:"",placeholder:"请输入需要强制更新的版本"},model:{value:e.appVersionForm.isForcedUpdate,callback:function(r){e.$set(e.appVersionForm,"isForcedUpdate",r)},expression:"appVersionForm.isForcedUpdate"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:40}},[a("el-form-item",{attrs:{label:"非强更版本",prop:"versionUpdate"}},[a("el-input",{staticStyle:{width:"217px"},attrs:{clearable:"",placeholder:"请输入需要更新的版本"},model:{value:e.appVersionForm.versionUpdate,callback:function(r){e.$set(e.appVersionForm,"versionUpdate",r)},expression:"appVersionForm.versionUpdate"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:40}},[a("el-form-item",{attrs:{label:"开始时间",prop:"beginTime"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"请输入弹框开始时间","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.appVersionForm.beginTime,callback:function(r){e.$set(e.appVersionForm,"beginTime",r)},expression:"appVersionForm.beginTime"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:40}},[a("el-form-item",{attrs:{label:"结束时间",prop:"endTime"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"请输入弹框结束时间","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.appVersionForm.endTime,callback:function(r){e.$set(e.appVersionForm,"endTime",r)},expression:"appVersionForm.endTime"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:40}},[a("el-form-item",{attrs:{label:"更新标题",prop:"changeTitle"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{clearable:"",placeholder:"请输入弹框标题"},model:{value:e.appVersionForm.changeTitle,callback:function(r){e.$set(e.appVersionForm,"changeTitle",r)},expression:"appVersionForm.changeTitle"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:40}},[a("el-form-item",{attrs:{label:"更新描述",prop:"changeCopy"}},[a("el-input",{attrs:{type:"textarea",cols:"50",rows:"5",clearable:"",placeholder:"请输入弹窗内显示的更新内容"},model:{value:e.appVersionForm.changeCopy,callback:function(r){e.$set(e.appVersionForm,"changeCopy",r)},expression:"appVersionForm.changeCopy"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:40}},[a("el-form-item",{attrs:{label:"状态",prop:"state"}},[a("el-select",{staticStyle:{width:"217px"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.appVersionForm.state,callback:function(r){e.$set(e.appVersionForm,"state",r)},expression:"appVersionForm.state"}},e._l(e.$formatter.getSelectionOptions("state"),function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:40}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.saveAppVersion}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:e.closeDialog}},[e._v("返回")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var u=a("VU/8")(m,c,!1,function(e){a("WEmK")},null,null);r.default=u.exports}});
//# sourceMappingURL=17.fdce365c3fdca65b2b0c.js.map