webpackJsonp([4],{"59/y":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("Xxa5"),r=l.n(a),s=l("exGp"),o=l.n(s),n=l("ON3O"),i=l.n(n),c=l("X2Oc"),p={props:{ifshow:Boolean},data:function(){return{actionUrl:"//devfdd.51huihuahua.com/management/fadada/file-upload",entryFormInitForm:{appName:"",fddVersion:"",templateNo:"",templateUrl:"",remark:""},entryForm:{},rules:{},dialogVisible:!1,displayFlag:!0}},methods:{openDialog:function(){this.entryForm=Object(c.a)(this.entryFormInitForm)},closeDialog:function(){this.$refs.entryForm.resetFields(),this.$emit("handleCloseDialog")},successHandler:function(e,t,l){if("200"!==e.code)return this.$message.error("上传失败！"+e.message),null;this.$message({message:"上传成功",type:"success",duration:1e3}),console.log(e.data.url),this.entryForm.templateUrl=e.data.url},saveForm:i()(300,function(){var e,t=this;this.$refs.entryForm.validate((e=o()(r.a.mark(function e(l){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=11;break}return e.prev=1,e.next=4,t.$http.post("/management/fadada/save",t.entryForm);case 4:"200"===(a=e.sent).code?(t.$message.success("新增成功!"),t.closeDialog()):t.$message.error(a.message),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}},e,t,[[1,8]])})),function(t){return e.apply(this,arguments)}))})}},m={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"border"},[l("el-dialog",{attrs:{title:"新增合同上传",visible:e.ifshow,"before-close":e.closeDialog,width:"35%"},on:{"update:visible":function(t){e.ifshow=t},open:e.openDialog}},[l("el-form",{ref:"entryForm",staticClass:"demo-form-inline",staticStyle:{"padding-left":"40px"},attrs:{inline:!0,model:e.entryForm,rules:e.rules,"label-width":"100px"}},[l("el-row",{attrs:{type:"flex",justify:"left"}},[l("el-col",{attrs:{span:30}},[l("el-form-item",{attrs:{label:"APP平台:",align:"left"}},[l("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.entryForm.appName,callback:function(t){e.$set(e.entryForm,"appName",t)},expression:"entryForm.appName"}},e._l(e.$formatter.getSelectionOptions("appNames"),function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),l("el-row",{attrs:{type:"flex",justify:"left"}},[l("el-col",{attrs:{span:30}},[l("el-form-item",{attrs:{label:"法大大版本号:","text-align":"left"}},[l("el-input",{staticStyle:{width:"217px"},attrs:{clearable:"",placeholder:"法大大版本号"},model:{value:e.entryForm.fddVersion,callback:function(t){e.$set(e.entryForm,"fddVersion",t)},expression:"entryForm.fddVersion"}})],1)],1)],1),e._v(" "),l("el-row",{attrs:{type:"flex",justify:"left"}},[l("el-col",{attrs:{span:30}},[l("el-form-item",{attrs:{label:"合同模板编号:",align:"left"}},[l("el-input",{staticStyle:{width:"217px"},attrs:{clearable:"",placeholder:"不填写时，自动生成"},model:{value:e.entryForm.templateNo,callback:function(t){e.$set(e.entryForm,"templateNo",t)},expression:"entryForm.templateNo"}})],1)],1)],1),e._v(" "),l("el-row",{attrs:{type:"flex",justify:"left"}},[l("el-col",{attrs:{span:30}},[l("el-form-item",{attrs:{label:"上传合同:",align:"left"}},[l("el-upload",{staticClass:"upload-demo",attrs:{action:e.actionUrl,accept:"application/pdf","show-file-list":!1,"on-success":e.successHandler,multiple:!1}},[l("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1)],1),e._v(" "),l("el-row",{staticStyle:{"margin-top":"-20px"},attrs:{type:"flex",justify:"left"}},[l("el-col",{attrs:{span:30}},[l("el-form-item",{attrs:{label:" "}},[l("el-input",{staticStyle:{width:"400px"},attrs:{readonly:""},model:{value:e.entryForm.templateUrl,callback:function(t){e.$set(e.entryForm,"templateUrl",t)},expression:"entryForm.templateUrl"}})],1)],1)],1),e._v(" "),l("el-row",{attrs:{type:"flex",justify:"left"}},[l("el-col",{attrs:{span:30}},[l("el-form-item",{attrs:{label:"备注:"}},[l("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:3},model:{value:e.entryForm.remark,callback:function(t){e.$set(e.entryForm,"remark",t)},expression:"entryForm.remark"}})],1)],1)],1),e._v(" "),l("el-row",{staticStyle:{"padding-top":"20px","padding-left":"50px"},attrs:{type:"flex",justify:"left"}},[l("el-col",{attrs:{span:30}},[l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:e.saveForm}},[e._v("提交")]),e._v(" "),l("el-button",{on:{click:e.closeDialog}},[e._v("返回")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var f=l("VU/8")(p,m,!1,function(e){l("TSMz")},null,null);t.default=f.exports},TSMz:function(e,t){}});
//# sourceMappingURL=4.dd0c70db4c96c394c0f5.js.map